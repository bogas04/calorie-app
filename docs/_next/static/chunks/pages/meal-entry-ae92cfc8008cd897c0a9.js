_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[11],{FpzS:function(e,r,t){"use strict";var n=t("pVnL"),i=t.n(n),o=t("8OQS"),a=t.n(o),l=t("qKvR"),u=t("q1tI"),c=t("we/t"),d=t("+Cyc"),s=t("lSNA"),f=t.n(s),b=t("CjxU"),m=t("mf32"),p=t("za5s");function h(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function g(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?h(t,!0).forEach((function(r){f()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):h(t).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var O={_readOnly:{bg:"transparent",boxShadow:"none !important",userSelect:"all"}},y={bg:"transparent",px:void 0,height:void 0},v=function(e){switch(e.variant){case"flushed":return function(e){var r=e.theme,t=e.focusBorderColor,n=e.errorBorderColor,i=Object(p.h)(r.colors,t,t),o=Object(p.h)(r.colors,n,n);return g({},O,{borderBottom:"2px",borderColor:"inherit",rounded:0,px:void 0,bg:"transparent",_focus:{zIndex:1,borderColor:i},_invalid:{borderColor:o}})}(e);case"unstyled":return y;case"filled":return function(e){var r=e.theme,t=e.focusBorderColor,n=e.errorBorderColor,i=e.colorMode,o=Object(p.h)(r.colors,t,t),a=Object(p.h)(r.colors,n,n);return g({},O,{border:"2px",borderColor:"transparent",bg:{light:"gray.100",dark:"whiteAlpha.50"}[i],_hover:{bg:{light:"gray.200",dark:"whiteAlpha.100"}[i]},_disabled:{opacity:"0.4",cursor:"not-allowed"},_focus:{zIndex:1,bg:"transparent",borderColor:o},_invalid:{borderColor:a}})}(e);case"outline":return function(e){var r=e.theme,t=e.colorMode,n=e.focusBorderColor,i=e.errorBorderColor,o=Object(p.h)(r.colors,n,n),a=Object(p.h)(r.colors,i,i);return g({},O,{border:"1px",borderColor:{light:"inherit",dark:"whiteAlpha.50"}[t],bg:{light:"white",dark:"whiteAlpha.100"}[t],_hover:{borderColor:{light:"gray.300",dark:"whiteAlpha.200"}[t]},_disabled:{opacity:"0.4",cursor:"not-allowed"},_focus:{zIndex:1,borderColor:o,boxShadow:"0 0 0 1px "+o},_invalid:{borderColor:a,boxShadow:"0 0 0 1px "+a}})}(e);default:return{}}},j={display:"flex",alignItems:"center",position:"relative",transition:"all 0.2s",outline:"none",appearance:"none"},w={lg:{fontSize:"lg",px:4,height:12,rounded:"md"},md:{fontSize:"md",px:4,height:10,rounded:"md"},sm:{fontSize:"sm",px:3,height:8,rounded:"sm"}},x=function(e){var r=g({},e,{theme:Object(b.b)(),colorMode:Object(m.a)().colorMode});return g({width:e.isFullWidth?"100%":void 0},j,{},function(e){return w[e.size]}(r),{},v(r))},C=Object(u.forwardRef)((function(e,r){e.size,e.variant;var t=e.as,n=e["aria-label"],o=e["aria-describedby"],u=e.isReadOnly,s=(e.isFullWidth,e.isDisabled,e.isInvalid,e.isRequired,e.focusBorderColor,e.errorBorderColor,a()(e,["size","variant","as","aria-label","aria-describedby","isReadOnly","isFullWidth","isDisabled","isInvalid","isRequired","focusBorderColor","errorBorderColor"])),f=x(e),b=Object(c.b)(e);return Object(l.d)(d.a,i()({ref:r,as:t,readOnly:b.isReadOnly,"aria-readonly":u,disabled:b.isDisabled,"aria-label":n,"aria-invalid":b.isInvalid,required:b.isRequired,"aria-required":b.isRequired,"aria-disabled":b.isDisabled,"aria-describedby":o},f,s))}));C.displayName="Input",C.defaultProps={size:"md",as:"input",variant:"outline",isFullWidth:!0,focusBorderColor:"blue.500",errorBorderColor:"red.500"};r.a=C},a7mw:function(e,r,t){"use strict";t.r(r),t.d(r,"default",(function(){return S}));var n=t("rePB"),i=t("a3WO");var o=t("BsWD");function a(e){return function(e){if(Array.isArray(e))return Object(i.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(o.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var l=t("ODXe"),u=t("BMxC"),c=t("qWyU"),d=t("sK1y"),s=t("FpzS"),f=t("we/t"),b=t("jgTY"),m=t("eJLp"),p=t("nOHt"),h=t("q1tI"),g=t("eXEx"),O=t("Slr/"),y=t("BhN1");function v(e){var r=e.getHours();return r<6?"Guilty Pleasure Snacks":r<10?"Breakfast":r<12?"Brunch":r<15?"Lunch":r<18?"Snacks":r<22?"Dinner":"Post Dinner Snacks"}var j=t("KmJB"),w=h.createElement;function x(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function C(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?x(Object(t),!0).forEach((function(r){Object(n.a)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):x(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function S(){var e=Object(y.useStore)(),r=e.dispatch,t=e.items,n=Object(p.useRouter)(),i=h.useState([]),o=Object(l.a)(i,2),x=o[0],S=o[1],D=h.useState(0),I=Object(l.a)(D,2),_=I[0],R=I[1],P=h.useState(0),B=Object(l.a)(P,2),q=B[0],z=B[1];h.useEffect((function(){var e=x.reduce((function(e,r){return(r.weight||0)+e}),0);R(e),z(e)}),[x]);var k=x.reduce((function(e,r){return Object(j.e)(r.nutrition,(function(r,t){return Math.ceil(t+e[r])}))}),y.inititalNutrition),A=Object(j.e)(k,(function(e,r){return 0===r?0:Math.ceil(k[e]*q/_)}));function E(e){var r=e.currentTarget,n=Number(r.dataset.itemIndex),i=Number(r.value),o=t.find((function(e){return e.name===x[n].name}));o&&S((function(e){return e.map((function(e,r){return r===n?C(C({},e),{},{weight:i,nutrition:Object(j.d)(o.nutrition,i)}):e}))}))}return w(u.a,{h:"100%",d:"flex",flexDirection:"column"},w(g.a,{heading:"Add Entry",flex:"1",overflow:"auto"},w(u.a,{d:"flex",justifyContent:"center",mb:"2"},w(O.a,{nutrition:A})),w(u.a,{d:"flex",flex:"1",flexDirection:"column",justifyContent:"space-between"},w(u.a,{overflowY:"auto",overflowX:"hidden"},q!==_&&w(u.a,{d:"flex",flexDirection:"column",bg:"blue.50",p:"2",my:"4",rounded:"md"},w(c.a,{d:"flex",justifyContent:"space-between",alignItems:"center",size:"md",mb:"2"},"\ud83c\udf5b Total"),w(O.a,{border:!1,nutrition:k})),x.map((function(e,r){return w(u.a,{key:r,d:"flex",flexDirection:"column",p:"2",mb:"1"},w(c.a,{d:"flex",justifyContent:"space-between",alignItems:"center",size:"sm",mb:"2"},w(d.a,null,e.icon||"\ud83c\udf5b"," ",e.name),w(u.a,{minW:"100px",maxW:"100px",d:"flex",alignItems:"center",justifyContent:"flex-end"},w(s.a,{inputMode:"numeric",width:60,value:e.weight,placeholder:"Weight",size:"sm","data-item-index":r,onChange:E,mr:"2"}),w(u.a,{fontWeight:"100"},"g"))),w(O.a,{border:!1,nutrition:e.nutrition}))})),w(u.a,{as:"form",onSubmit:function(e){var r;e.preventDefault();var n=e.currentTarget,i=n.item.value,o=n.weight.value,l=t.find((function(e){return e.name===i}))||i&&{name:i,icon:"\u2753",weight:Number(o),nutrition:{fat:0,calories:0,protein:0,carbohydrates:0}};l&&S((function(e){return[C(C({},l),{},{weight:Number(o)})].concat(a(e))})),null===(r=n.querySelector("input"))||void 0===r||r.focus(),n.reset()},mt:"4",mb:"2",d:"flex",flexDirection:"column",alignItems:"flex-end"},w(u.a,{d:"flex",alignItems:"center",justifyContent:"space-between"},w(f.a,{mr:"1"},w(b.a,{htmlFor:"items"},"Item"),w(s.a,{isRequired:!0,type:"search",list:"items-list",name:"item",size:"sm",placeholder:"Enter item name"}),w("datalist",{id:"items-list"},t.map((function(e){return w("option",{key:e.name,value:e.name},e.name)})))),w(f.a,{my:"1"},w(b.a,{htmlFor:"items"},"Weight"),w(s.a,{isRequired:!0,inputMode:"numeric",name:"weight",size:"sm",placeholder:"Enter item weight"}))),w(u.a,{mt:"2"},w(m.a,{type:"submit"},"Add")))))),w(u.a,{as:"footer",p:"4",borderTop:0!==x.length?"1px solid #cacaca":void 0},0!==x.length&&w(u.a,{d:"flex",alignItems:"center",justifyContent:"space-between",flex:"1"},w(u.a,{flex:"0.8",d:"flex",alignItems:"center"},w(u.a,{flex:"0.3"},w(s.a,{inputMode:"numeric",value:q,onChange:function(e){z(Number(e.currentTarget.value))},placeholder:"Weight",size:"sm",mr:"1"})),w(u.a,{flex:"0.2",fontWeight:"100",textAlign:"center"},"g of"),w(u.a,{flex:"0.3"},w(s.a,{inputMode:"numeric",value:_,onChange:function(e){R(Number(e.currentTarget.value))},placeholder:"Weight",size:"sm",mr:"1"})),w(u.a,{flex:"0.2",fontWeight:"100",textAlign:"center"},"g")),w(m.a,{flex:"0.2",variantColor:"green",variant:"solid",onClick:function(){var e=new Date,t={nutrition:A,items:x,timestamp:e.getTime(),name:v(e),portionWeight:q,totalWeight:_};r({type:y.ACTIONS.ADD_MEAL_ENTRY,payload:{entry:t}}),S([]),n.push("/")}},"Done"))))}S.pageTitle="Add Entry"},jgTY:function(e,r,t){"use strict";var n=t("8OQS"),i=t.n(n),o=t("pVnL"),a=t.n(o),l=t("qKvR"),u=t("q1tI"),c=t("BMxC"),d=t("we/t"),s=t("mf32"),f=function(e){var r=Object(s.a)().colorMode;return Object(l.d)(c.a,a()({as:"span",ml:1,color:{light:"red.500",dark:"red.300"}[r],"aria-hidden":"true",children:"*"},e))},b=Object(u.forwardRef)((function(e,r){var t=e.children,n=i()(e,["children"]),o=Object(d.b)(n);return Object(l.d)(c.a,a()({ref:r,fontSize:"md",pr:"12px",pb:"4px",opacity:o.isDisabled?"0.4":"1",fontWeight:"medium",textAlign:"left",verticalAlign:"middle",display:"inline-block",as:"label"},n),t,o.isRequired&&Object(l.d)(f,null))}));b.displayName="FormLabel",r.a=b},w7hu:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/meal-entry",function(){return t("a7mw")}])},"we/t":function(e,r,t){"use strict";t.d(r,"b",(function(){return d}));var n=t("pVnL"),i=t.n(n),o=t("8OQS"),a=t.n(o),l=t("qKvR"),u=t("q1tI"),c=t("BMxC"),d=function(e){var r=f();return r?Object.keys(r).reduce((function(t,n){return t[n]=e[n],r&&null==e[n]&&(t[n]=r[n]),t}),{}):e},s=Object(u.createContext)(),f=function(){return Object(u.useContext)(s)},b=Object(u.forwardRef)((function(e,r){var t=e.isInvalid,n=e.isRequired,o=e.isDisabled,u=e.isReadOnly,d=a()(e,["isInvalid","isRequired","isDisabled","isReadOnly"]),f={isRequired:n,isDisabled:o,isInvalid:t,isReadOnly:u};return Object(l.d)(s.Provider,{value:f},Object(l.d)(c.a,i()({role:"group",ref:r},d)))}));b.displayName="FormControl",r.a=b}},[["w7hu",0,1,2,3,4]]]);